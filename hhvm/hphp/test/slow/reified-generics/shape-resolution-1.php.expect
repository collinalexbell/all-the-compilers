dict(2) {
  ["kind"]=>
  int(14)
  ["fields"]=>
  dict(1) {
    ["foo"]=>
    dict(1) {
      ["kind"]=>
      int(4)
    }
  }
}
dict(2) {
  ["kind"]=>
  int(14)
  ["fields"]=>
  dict(1) {
    ["foo"]=>
    dict(2) {
      ["kind"]=>
      int(4)
      ["optional_shape_field"]=>
      bool(true)
    }
  }
}
dict(2) {
  ["kind"]=>
  int(14)
  ["fields"]=>
  dict(1) {
    ["A"]=>
    dict(1) {
      ["kind"]=>
      int(4)
    }
  }
}